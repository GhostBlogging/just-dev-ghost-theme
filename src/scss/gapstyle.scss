code[class*='language-'] {
  color: #a9b7c6;
  background: #2c2c2c;
  font-family: 'HackJBMLigaturedCCG-Regular', Consolas, Menlo, Monaco, source-code-pro, 'Andale Mono', monospace;
  direction: ltr;
  font-feature-settings: normal;
  text-align: left;
  overflow: auto;
  word-wrap: normal;
  white-space: pre;
  line-height: 1.5;
  margin-bottom: 0;
  tab-size: 4;
  hyphens: none;
  font-size: 0.75em;
}

pre {
  &[class*='language-'] {
    color: #cbad96;
    background: #2c2c2c;
    font-family: 'HackJBMLigaturedCCG-Regular', Consolas, Menlo, Monaco, source-code-pro, 'Andale Mono', monospace;
    direction: ltr;
    font-feature-settings: normal;
    text-align: left;
    overflow: auto;
    word-wrap: normal;
    white-space: pre;
    line-height: 1.5;
    tab-size: 4;
    hyphens: none;
    font-size: 0.75em;

    &::-moz-selection,
    ::-moz-selection,
    &::selection,
    ::selection {
      color: inherit;
      background: rgba(33, 66, 131, 0.85);
    }

    padding: 1rem 2rem;
    margin: 0 0 0.5rem 0;
    position: relative;
  }

  > code[class*='language-'] {
    &::-moz-selection,
    ::-moz-selection {
      color: inherit;
      background: rgba(33, 66, 131, 0.85);
    }
  }

  > code[class*='language-'] {
    &::selection,
    ::selection {
      color: inherit;
      background: rgba(33, 66, 131, 0.85);
    }
  }
}

/* Code blocks */

/* Inline code */

:not(pre) > code {
  font-family: 'HackJBMLigaturedCCG-Regular', Consolas, Menlo, Monaco, source-code-pro, 'Andale Mono', monospace;
  padding: 0.3rem;
  margin: 0.2rem;
  border-radius: 0.4rem;
  font-size: 90%;
}

.token {
  position: relative;
  z-index: 1;

  &.comment,
  &.prolog,
  &.cdata {
    color: #808080;

    > .url,
    > .url-link,
    > .email-link {
      color: #808080;
      text-decoration: none;
      box-shadow: #808080 0 -1px 0 inset;
      &:hover {
        color: #589df6;
        box-shadow: #287bde 0 -1px 0 inset;
      }
    }
  }

  &.doc-comment {
    color: #629755;

    > .token.keyword {
      color: #526d4a;
      text-decoration: underline;
    }
  }

  &.delimiter,
  &.boolean,
  &.keyword,
  &.selector,
  &.important,
  &.atrule {
    font-weight: bold;
    color: #f92672;
  }

  &.operator,
  &.punctuation,
  &.attr-name {
    color: #a9b7c6;
  }

  &.tag {
    color: #e8bf6a;

    .punctuation {
      color: #e8bf6a;
    }
  }

  &.doctype,
  &.builtin {
    color: #e8bf6a;
  }

  &.entity,
  &.number,
  &.symbol {
    color: #ae81ff;
  }

  &.property,
  &.parameter {
    color: #cf8822;
  }

  &.constant,
  &.console.class-name,
  &.dom.variable {
    color: #4186f8;
  }

  &.variable {
    color: #cbad96;
  }

  &.string,
  &.char {
    color: #e6db74;
  }

  &.attr-value {
    color: #a5c261;

    .punctuation {
      color: #a5c261;

      &:first-child {
        color: #a9b7c6;
      }
    }
  }

  &.url,
  &.url-link,
  &.email-link {
    color: #589df6;
    text-decoration: none;
    box-shadow: #287bde 0 -1px 0 inset;
    &:hover {
      color: #589df6;
      text-decoration: none;
      box-shadow: #287bde 0 -1px 0 inset;
    }
  }

  &.function {
    color: #a6e22e;
  }

  &.regex {
    color: #e6db74;
    background: #143d1b;
  }

  &.class-name,
  &.maybe-class-name {
    color: #66d9ee;
  }

  &.property-access {
    color: #cf8822;
    &.function,
    &.method {
      color: #a6e22e;
    }
  }

  &.abstract > .token {
    &.class-name,
    &.maybe-class-name {
      color: #00cfd3;
    }
  }

  &.interface > .token {
    &.class-name,
    &.maybe-class-name {
      color: #0ed38b;
    }
  }

  &.object > .token {
    &.class-name,
    &.maybe-class-name {
      font-weight: bold;
    }
  }

  &.annotation {
    color: #bbb529;
  }

  &.interpolation {
    color: #fd971f;

    > .token.delimiter {
      color: #cc7832;
    }
  }

  &.generics > .token.class-name,
  &.maybe-generic-template {
    color: #20999d;
  }

  &.label.symbol {
    color: #467cda;
  }

  &.namespace {
    color: #a9b7c6;
  }

  &.bold {
    font-weight: bold;
  }

  &.italic {
    font-style: italic;
  }

  &.inserted {
    background: #294436;
  }

  &.deleted {
    background: #484a4a;
  }
}

code.language-css .token {
  &.property {
    color: #89bb26;

    + .token.punctuation {
      color: #89bb26;
    }
  }

  &.id {
    color: #f92672;
  }

  &.selector > .token {
    &.class,
    &.attribute,
    &.pseudo-class,
    &.pseudo-element {
      color: #f92672;
    }
  }
}

pre[class*='language-'] {
  border: 0;
  overflow-y: hidden;
}

div.code-toolbar {
  position: relative;
  width: 100%;
  margin: 0 0 1.5em 0;

  > .toolbar {
    font-family: 'HackJBMLigaturedCCG-Regular', Menlo, Consolas, Monaco, source-code-pro, 'Andale Mono', monospace;
    position: absolute;
    top: -1.5em;
    opacity: 1;
    width: 100%;
    user-select: none;
    background: #2c2c2c;
    border-radius: 8px 8px 0 0;
    display: flex;
    justify-content: flex-end;
    padding: 0 16px 0 16px;
  }

  > .toolbar {
    .toolbar-item {
      display: inline-block;
      line-height: 40px;
      margin: 0 4px;

      &:hover {
        color: #e49c3b;
      }
      &:first-child {
        flex: 1;
        margin: 0;
      }
      &:last-child {
        margin-right: 0;
      }
    }

    a {
      cursor: pointer;
    }

    button {
      background: none;
      border: 0;
      color: inherit;
      font: inherit;
      line-height: normal;
      overflow: visible;
      padding: 0;
      -webkit-user-select: none;

      /* for button */
      -moz-user-select: none;
      -ms-user-select: none;
    }

    a,
    button {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 2rem;
      color: #747c85;
      padding: 4px 8px;
      text-align: right;
      font-size: 14px;
      box-shadow: none;
    }

    h4 {
      border-radius: 2rem;
      color: #747c85;
      font-weight: 400;
      font-size: 16px;
      box-shadow: none;
      margin: 0;
      padding: 0;
      line-height: 40px;
    }

    a {
      &:hover,
      &:focus {
        color: inherit;
        text-decoration: none;
      }
    }

    button {
      &:hover,
      &:focus {
        color: inherit;
        text-decoration: none;
      }
    }

    span {
      &:hover,
      &:focus {
        color: inherit;
        text-decoration: none;
      }
    }
  }
}

/* Separate line b/c rules are thrown out if selector is invalid.
   IE11 and old Edge versions don't support :focus-within. */

pre[class*='language-'].line-numbers {
  position: relative;
  padding-top: 1em;
  padding-bottom: 1em;
  padding-left: 3.8em;
  counter-reset: linenumber;

  > code {
    position: relative;
  }
}

.line-numbers .line-numbers-rows {
  position: absolute;
  pointer-events: none;
  top: 0;
  font-size: 100%;
  left: -3.8em;
  width: 3em;

  /* works for line-numbers below 1000 lines */
  letter-spacing: -1px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.line-numbers-rows > span {
  pointer-events: none;
  display: block;
  counter-increment: linenumber;
  position: relative;
  z-index: 1;

  &:before {
    content: counter(linenumber);
    color: #999;
    display: block;
    padding-right: 0.8em;
    text-align: right;
  }
}

.line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em; /* Same as .prismâ€™s padding-top */
  background: rgba(33, 66, 131, 0.85);
  border-left: 4px solid #f92672;
  pointer-events: none;
  line-height: inherit;
  width: 100vw;
}
.line-highlight:before,
.line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: 0.4em;
  left: 0.6em;
  min-width: 1em;
  padding: 0 0.5em;
  background-color: hsla(24, 20%, 50%, 0.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: 0.3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

.line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: 0.4em;
}

.line-numbers .line-highlight:before,
.line-numbers .line-highlight:after {
  content: none;
}
